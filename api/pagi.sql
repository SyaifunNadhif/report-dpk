untuk produk
ping 172.21.1.45 -t



teamviewer server report 51
ip : 192.176.1.51
pass : report51!@#

teamviewer 
172.21.1.44
pass :
23121989

#insert(1)
1. acc 

select * from acc_history where tanggal = '20260122'


2.tabel : kredit_history

check

select count(no_rekening) from kredit_history where tanggal = '20260122' and kode_kantor between  '001' and '010'

delete from kredit_history where tanggal = '20260122' and kode_kantor between '021' adn '024'

select no_rekening,nasabah_id,baki_debet,plafond,tagihan_pokok,tagihan_bunga,denda,tunggakan_pokok,tunggakan_bunga,saldo_pyad,nilai_njop,nilai_taksasi,jaminan_diperhitungkan,perc_ppapwd,nilai_ppapwd,ft_pokok,
	ft_bunga,ft_jt,kolektibilitas,my_kolek_number,reschedulling,jml_hari_pokok,jml_hari_bunga,jenis_agunan,ikatan_agunan,persen_dijaminkan,tgl_debius,saldo_debius,jml_debius,angs_debius,angsuran_ke,tanggal,
	waktu,kolektibilitas_lalu,saldo_provisi,saldo_adm_lainnya,saldo_biaya,baki_debet_rra,kode_kantor,jml_hari,pyad_harian,nilai_apht,nilai_pasar,nilai_agunan,next_tagihan_pokok,next_tagihan_bunga,tgl_mulai_macet,
	saldo_cad_restruk,saldo_bunga_ditangguhkan,tgl_mulai_nunggak,tgl_mulai_nunggak_pokok,tgl_mulai_nunggak_bunga,hari_menunggak,hari_menunggak_pokok,hari_menunggak_bunga,hari_menunggak_jt,kolektibilitas_real,my_kolek_number_real,
	tgl_mulai_nunggak_relaksasi,tgl_mulai_nunggak_pokok_relaksasi as tgl_mulai_nunggak_pokok_relak,tgl_mulai_nunggak_bunga_relaksasi as tgl_mulai_nunggak_bunga_relak,hari_menunggak_relaksasi,hari_menunggak_pokok_relaksasi,
	hari_menunggak_bunga_relaksasi from kredit_history where tanggal = '20260122' and kode_kantor between  '001' and '010'
select no_rekening,nasabah_id,baki_debet,plafond,tagihan_pokok,tagihan_bunga,denda,tunggakan_pokok,tunggakan_bunga,saldo_pyad,nilai_njop,nilai_taksasi,jaminan_diperhitungkan,perc_ppapwd,nilai_ppapwd,ft_pokok,
	ft_bunga,ft_jt,kolektibilitas,my_kolek_number,reschedulling,jml_hari_pokok,jml_hari_bunga,jenis_agunan,ikatan_agunan,persen_dijaminkan,tgl_debius,saldo_debius,jml_debius,angs_debius,angsuran_ke,tanggal,
	waktu,kolektibilitas_lalu,saldo_provisi,saldo_adm_lainnya,saldo_biaya,baki_debet_rra,kode_kantor,jml_hari,pyad_harian,nilai_apht,nilai_pasar,nilai_agunan,next_tagihan_pokok,next_tagihan_bunga,tgl_mulai_macet,
	saldo_cad_restruk,saldo_bunga_ditangguhkan,tgl_mulai_nunggak,tgl_mulai_nunggak_pokok,tgl_mulai_nunggak_bunga,hari_menunggak,hari_menunggak_pokok,hari_menunggak_bunga,hari_menunggak_jt,kolektibilitas_real,my_kolek_number_real,
	tgl_mulai_nunggak_relaksasi,tgl_mulai_nunggak_pokok_relaksasi as tgl_mulai_nunggak_pokok_relak,tgl_mulai_nunggak_bunga_relaksasi as tgl_mulai_nunggak_bunga_relak,hari_menunggak_relaksasi,hari_menunggak_pokok_relaksasi,
	hari_menunggak_bunga_relaksasi from kredit_history where tanggal = '20260122' and kode_kantor between  '011' and '020'
select no_rekening,nasabah_id,baki_debet,plafond,tagihan_pokok,tagihan_bunga,denda,tunggakan_pokok,tunggakan_bunga,saldo_pyad,nilai_njop,nilai_taksasi,jaminan_diperhitungkan,perc_ppapwd,nilai_ppapwd,ft_pokok,
	ft_bunga,ft_jt,kolektibilitas,my_kolek_number,reschedulling,jml_hari_pokok,jml_hari_bunga,jenis_agunan,ikatan_agunan,persen_dijaminkan,tgl_debius,saldo_debius,jml_debius,angs_debius,angsuran_ke,tanggal,
	waktu,kolektibilitas_lalu,saldo_provisi,saldo_adm_lainnya,saldo_biaya,baki_debet_rra,kode_kantor,jml_hari,pyad_harian,nilai_apht,nilai_pasar,nilai_agunan,next_tagihan_pokok,next_tagihan_bunga,tgl_mulai_macet,
	saldo_cad_restruk,saldo_bunga_ditangguhkan,tgl_mulai_nunggak,tgl_mulai_nunggak_pokok,tgl_mulai_nunggak_bunga,hari_menunggak,hari_menunggak_pokok,hari_menunggak_bunga,hari_menunggak_jt,kolektibilitas_real,my_kolek_number_real,
	tgl_mulai_nunggak_relaksasi,tgl_mulai_nunggak_pokok_relaksasi as tgl_mulai_nunggak_pokok_relak,tgl_mulai_nunggak_bunga_relaksasi as tgl_mulai_nunggak_bunga_relak,hari_menunggak_relaksasi,hari_menunggak_pokok_relaksasi,
	hari_menunggak_bunga_relaksasi from kredit_history where tanggal = '20260122' and kode_kantor between  '021' and '024'
select no_rekening,nasabah_id,baki_debet,plafond,tagihan_pokok,tagihan_bunga,denda,tunggakan_pokok,tunggakan_bunga,saldo_pyad,nilai_njop,nilai_taksasi,jaminan_diperhitungkan,perc_ppapwd,nilai_ppapwd,ft_pokok,
	ft_bunga,ft_jt,kolektibilitas,my_kolek_number,reschedulling,jml_hari_pokok,jml_hari_bunga,jenis_agunan,ikatan_agunan,persen_dijaminkan,tgl_debius,saldo_debius,jml_debius,angs_debius,angsuran_ke,tanggal,
	waktu,kolektibilitas_lalu,saldo_provisi,saldo_adm_lainnya,saldo_biaya,baki_debet_rra,kode_kantor,jml_hari,pyad_harian,nilai_apht,nilai_pasar,nilai_agunan,next_tagihan_pokok,next_tagihan_bunga,tgl_mulai_macet,
	saldo_cad_restruk,saldo_bunga_ditangguhkan,tgl_mulai_nunggak,tgl_mulai_nunggak_pokok,tgl_mulai_nunggak_bunga,hari_menunggak,hari_menunggak_pokok,hari_menunggak_bunga,hari_menunggak_jt,kolektibilitas_real,my_kolek_number_real,
	tgl_mulai_nunggak_relaksasi,tgl_mulai_nunggak_pokok_relaksasi as tgl_mulai_nunggak_pokok_relak,tgl_mulai_nunggak_bunga_relaksasi as tgl_mulai_nunggak_bunga_relak,hari_menunggak_relaksasi,hari_menunggak_pokok_relaksasi,
	hari_menunggak_bunga_relaksasi from kredit_history where tanggal = '20260122' and kode_kantor between  '025' and '028'

3.tabel : inv_history
select * from inv_history where tanggal = '20260122'

4.tabel : tabtrans
select * from tabtrans where tgl_trans = '20260122'

select  count(tgl_trans)  from tabtrans where tgl_trans = '20260122'  and kode_kantor between  '008' and '010'

-- nanti aja --

Update (3)
1.tabel : kre_agunan
select * from kre_agunan where tgl_register > '20251001' 
2.tabel : kredit
select * from kredit where tgl_realisasi > '20251001' 
3.tabel : nasabah
select * from nasabah where tgl_register > '20251001' 
4.tabel : kre_agunan_relasi
select * from kre_agunan_relasi where id_relasi > '578548' 

Delete 
tabel kretrans:
hapus dulu dengan perintah ( delete from kretrans where month(tgl_trans) = '10' and year(tgl_trans) = '2025') - 
kemudian sesuaikan dengan bulan berjalan - kemudian 
Add / insert (1)
1.select count(no_rekening) from kretrans where  month(tgl_trans) = '01' and year(tgl_trans) = '2026' and kode_kantor between '001' and '018'
2.select count(no_rekening) from kretrans where  month(tgl_trans) = '12' and year(tgl_trans) = '2025' and kode_kantor between '019' and '028'


1 bulan sekali

Delete / Add / insert - dilakukan ketika tanggal 1 setiap bulan
truncate table inventaris
kemudian jalankan :
select * from inventaris


Delete / Add / insert - dilakukan ketika tanggal 1 setiap bulan
truncate table kredit 
kemudian jalankan :

select * from kredit where kode_kantor between '001' and '007'
select * from kredit where kode_kantor between '008' and '014'
select * from kredit where kode_kantor between '015' and '021'
select * from kredit where kode_kantor between '022' and '024'
select * from kredit where kode_kantor between '025' and '028'

Delete / Add / insert - dilakukan ketika tanggal 1 setiap bulan
truncate table nasabah
kemudian jalankan :

select nasabah_id,
  nama_nasabah,
  nama_alias,
  nama_ibu_kandung,
  nama_nasabah_sid,
  alamat,
  telpon,
  jenis_kelamin,
  tempatlahir,
  tgllahir,
  jenis_id,
  no_id,
  keterangan,
  kode_group1,
  kode_group2,
  kode_group3,
  kode_group4,
  kode_agama,
  kode_group5,
  desa,
  kecamatan,
  kota_kab,
  propinsi,
  verifikasi,
  hp,
  tgl_register,
  npwp,
  status_gelar,
  ket_status,
  jenis_debitur,
  tempat_badan_usaha,
  tgl_akte_awal,
  no_akte_awal,
  no_paspor,
  kodepos,
  din,
  kode_kantor,
  userid,
  alamat_ktp,
  alamat_surat,
  email,
  alamat_kantor,
  nama_kantor,
  nama_instansi,
  telpon_kantor,
  kode_area,
  negara_domisili,
  gol_debitur,
  sandi_pekerjaan,
  tempat_bekerja,
  bidang_usaha,
  hub_dgn_bank,
  langgar_bmpk,
  lampaui_bmpk,
  masa_berlaku_ktp,
  tujuan_pembukaan_rekening_tab,
  penghasilan_utama,
  kode_sumber_penghasilan,
  kode_pemasukan_per_bulan,
  kode_frek_pemasukan_per_bulan,
  kode_pengeluaran_per_bulan,
  kode_frek_pengeluaran_per_bulan,
  kode_sumber_dana_untuk_setoran,
  tujuan_penggunaan_dana,
  nama_suami_atau_istri,
  tgl_lahir_suami_atau_istri,
  tgl_pernikahan_suami_atau_istri,
  hobi,
  nama_anak1,
  tgl_lahir_anak1,
  nama_anak2,
  tgl_lahir_anak2,
  nama_anak3,
  tgl_lahir_anak3,
  flag_sid,
  no_rek_bank,
  flag_backlist,
  ket_backlist,
  ket_warning,
  flag_masa_berlaku,
  status_marital,
  transfer,
  gin,
  rating_debitur,
  lembaga_rating,
  go_public,
  id_jabatan,
  pangsa_pemilikan,
  id_debitur,
  id_pengurus,
  flag_koreksi_ktp,
  online_kk,
  online_id,
  phone_number,
  phone_pin,
  kode_tingkat_resiko,
  deskripsi_pekerjaan,
  nama_suami_or_istri,
  no_kk,
  penjamin_nama,
  penjamin_status,
  penjamin_kelamin,
  penjamin_alamat,
  penjamin_telpon,
  penjamin_pekerjaan,
  penjamin_deskripsi_pekerjaan,
  penjamin_alamat_pekerjaan,
  PID,
  kota_kab_lahir,
  akta_nikah_cerai,
  gps1,
  gps2,
  kota_kab_usaha,
  gelar_pend,
  gelar_h,
  no_cif_debitur,
  slik_telpon,
  jumlah_tanggungan,
  no_id_pasangan,
  pisah_harta,
  kode_badan_usaha,
  no_akte_akhir,
  tgl_akte_akhir,
  tanggal_pemeringkat,
  nama_group_debitur,
  slik_npwp,
  slik_jenis_id,
  slik_kode_kota_kab,
  slik_kode_negara,
  slik_kode_pekerjaan,
  slik_kode_status_gelar,
  slik_kode_bidang_usaha,
  slik_kode_sumber_penghasilan,
  slik_kode_hubungan_ljk,
  slik_kode_gol_debitur,
  slik_kode_status_perkawinan,
  slik_kode_lembaga_pemeringkat,
  slik_kode_badan_usaha,
  no_cif_slik,
  no_siup,
  no_tdp,
  no_surat_domisili_perusahaan,
  no_surat_kuasa_perusahaan,
  penghasilan_kotor,
  jml_tanggungan,
  no_alt,
  sms_service,
  echannel_account_type,
  notif_wa,
  slik_kode_gol_debitur_lama from nasabah where kode_kantor = '007' 
  
  ( sesuaikan kode kantornya 1 per 1 )





-- Tabungan 2
SELECT
	tabung.no_rekening "no_rekening",
	nama_nasabah,
	tabung_history.saldo_akhir AS "saldo_akhir"
FROM
	tabung_history,
	tabung,
	nasabah 
WHERE
	tabung.no_rekening = tabung_history.no_rekening 
	AND tabung.nasabah_id = nasabah.nasabah_id 
	AND tabung_history.tanggal = "20260122"
	AND tabung_history.saldo_akhir >0
	AND tabung.kode_produk=212


nominatif kredit

-- nom
SELECT
  k.kode_kantor AS kode_cabang,
  k.no_rekening,
  k.no_alternatif,
  k.nasabah_id,
  n.hp,
  n.tgllahir,
  n.phone_number,
  n.telpon,
  n.nama_nasabah,
  n.alamat,
  n.nama_suami_atau_istri,
  k.nama_pasangan,
  n.nama_ibu_kandung,
  n.tempat_bekerja,
  n.no_id,
  kk.deskripsi_kode_kelurahan,
  kc.deskripsi_kode_kecamatan,
  n.kodepos,
  n.gelar_h,
  n.gelar_pend,
  k.tgl_realisasi,
  k.jml_angsuran,
  k.tgl_jatuh_tempo,
  k.jml_pinjaman,
  k.jml_mark_up,
  k.type_kredit,
  k.kode_promo,
  k.suku_bunga_per_tahun,
  k.auto_debet,
  k.saldo_bunga_yad,
  k.norek_tabungan,
  k.no_spk,
  k.kode_group1,
  k.kode_group2,
  k.kode_group3,
  k.kode_group4,
  kh.saldo_provisi AS provisi_saldo,
  kh.baki_debet,
  kh.saldo_bank,
  kh.nilai_ckpn,
  kh.plafond,
  kh.tunggakan_pokok,
  kh.saldo_pyad,
  CASE
    WHEN kh.baki_debet > 0 THEN NULL
    ELSE (
      SELECT MAX(t.tgl_trans)
      FROM kretrans t
      WHERE t.no_rekening = k.no_rekening
        AND t.tgl_trans <= '20260122'
        AND FLOOR(t.my_kode_trans/100) = 3
        AND t.pokok > 0
    )
  END AS tgl_pelunasan,
  CASE
    WHEN kh.baki_debet > 0 THEN kh.tunggakan_bunga
    ELSE (
      SELECT
        COALESCE(SUM(CASE WHEN FLOOR(t.my_kode_trans/100)=2 THEN t.bunga ELSE 0 END),0)
      - COALESCE(SUM(CASE WHEN FLOOR(t.my_kode_trans/100)=3 THEN t.bunga ELSE 0 END),0)
      FROM kretrans t
      WHERE t.no_rekening = k.no_rekening
        AND t.tgl_trans <= (
          SELECT MAX(t2.tgl_trans)
          FROM kretrans t2
          WHERE t2.no_rekening = k.no_rekening
            AND t2.tgl_trans <= '20260122'
            AND FLOOR(t2.my_kode_trans/100)=3
            AND t2.pokok > 0
        )
    )
  END AS tunggakan_bunga,
  kh.tgl_mulai_nunggak,
  kh.hari_menunggak_pokok,
  kh.hari_menunggak_bunga,
  kh.hari_menunggak,
  kh.hari_menunggak_jt,
  kh.kolektibilitas,
  kh.my_kolek_number,
  kh.saldo_debius,
  kh.nilai_ppapwd,
  (
    SELECT COUNT(a.no_rekening) + 1
    FROM kredit a
    WHERE a.nasabah_id = k.nasabah_id
      AND a.no_rekening <> k.no_rekening
      AND a.tgl_realisasi < k.tgl_realisasi
  ) AS pinj_ke,
  k.kode_produk,
  kh.jenis_agunan,
  kh.ikatan_agunan,
  kh.nilai_taksasi,
  k.slik_kode_gol_penjamin,
  k.slik_kode_jenis_penggunaan,
  k.bi_sifat,
  k.kode_sumber_pelunasan,
  k.bi_gol_debitur,
  k.kode_keterkaitan,
  k.slik_kode_sektor_ekonomi,
  CASE kh.kolektibilitas
    WHEN 'L' THEN 1
    WHEN 'DP' THEN 2
    WHEN 'KL' THEN 3
    WHEN 'D' THEN 4
    WHEN 'M' THEN 5
    ELSE NULL
  END AS bobot,
  tanggal AS created
FROM kredit k
JOIN nasabah n ON n.nasabah_id = k.nasabah_id
JOIN kredit_history kh
  ON kh.no_rekening = k.no_rekening
 AND kh.tanggal = '20260122'
LEFT JOIN css_kode_dati kd
  ON kd.kode_provinsi = n.propinsi
 AND kd.kode_dati     = n.kota_kab
LEFT JOIN css_kode_kecamatan kc
  ON kc.kode_provinsi = n.propinsi
 AND kc.kode_dati     = n.kota_kab
 AND kc.kode_kecamatan= n.kecamatan
LEFT JOIN css_kode_kelurahan kk
  ON kk.kode_provinsi = n.propinsi
 AND kk.kode_dati     = n.kota_kab
 AND kk.kode_kecamatan= n.kecamatan
 AND kk.kode_kelurahan= n.desa
WHERE kh.baki_debet > 0
ORDER BY k.no_rekening;



PH

SELECT
  k.kode_kantor                                    AS kode_kantor,
  k.no_rekening                                    AS no_rekening,
  n.nama_nasabah                                   AS nama_nasabah,
  t.tgl_trans                                      AS tanggal_transaksi,
  IF(t.my_kode_trans = 900, t.pokok, 0)            AS pokok,
  IF(t.my_kode_trans = 900, t.bunga, 0)            AS bunga,
  (IF(t.my_kode_trans = 900, t.pokok, 0)
   + IF(t.my_kode_trans = 900, t.bunga, 0))        AS total
FROM kredit k
JOIN kretrans t ON k.no_rekening = t.no_rekening
JOIN nasabah n ON k.nasabah_id = n.nasabah_id
WHERE
  t.tgl_trans BETWEEN '2026-01-01' AND '2026-01-31'
  AND t.my_kode_trans = 900
ORDER BY t.tgl_trans, k.no_rekening;

Transaksi kredit

SELECT
  k.kode_kantor,
  k.no_rekening,
  k.no_alternatif,
  k.status,
  n.nama_nasabah,
  n.alamat,
  t.tgl_trans,
  t.kode_trans,
  t.kuitansi,
  k.kode_produk,
  n.gelar_h,
  n.gelar_pend,
  t.userid,
  k.kode_integrasi,
  k.kode_group1,
  k.kode_produk AS kode_produk_1,
  k.slik_kode_jenis_penggunaan,
  t.kolek,
  t.no_rekening_tabungan,
  k.kode_group2,

 
  IF(t.my_kode_trans = 100, t.pokok,        0) AS realisasi_pokok,
  IF(t.my_kode_trans = 100, t.provisi,      0) AS realisasi_provisi,
  IF(t.my_kode_trans = 100, t.materai,      0) AS realisasi_materai,
  IF(t.my_kode_trans = 100, t.premi,        0) AS realisasi_premi,
  IF(t.my_kode_trans = 100, t.notariel,     0) AS realisasi_notariel,
  IF(t.my_kode_trans = 100, t.adm_lainnya,  0) AS realisasi_adm_lainnya,
  IF(t.my_kode_trans = 100, t.tabungan,     0) AS realisasi_tabungan,

  IF(t.my_kode_trans = 300, t.pokok,        0) AS angsuran_pokok,
  IF(t.my_kode_trans = 300, t.bunga,        0) AS angsuran_bunga,
  IF(t.my_kode_trans = 300, t.bunga_yad,    0) AS angsuran_bunga_yad,
  IF(t.my_kode_trans = 300, t.denda,        0) AS angsuran_denda,
  IF(t.my_kode_trans = 300, t.disc_bunga,   0) AS diskon_bunga,
  IF(t.my_kode_trans = 300, t.adm_lainnya,  0) AS angsuran_adm_lainnya,

  t.keterangan
FROM kredit   k
JOIN kretrans t ON k.no_rekening = t.no_rekening
JOIN nasabah  n ON k.nasabah_id  = n.nasabah_id
WHERE
  t.tgl_trans BETWEEN '2026-01-01' AND '2026-01-31'
  AND FIND_IN_SET(t.kode_trans,
      '100,110,120,130,300,310,320,303,304,315,316,340,343,350') > 0
ORDER BY t.kretrans_id;




server DPK
10.0.2.2
Port 21
username : ftp_reportdpk_bkkjateng_co_id
password : 55baa2251e21c8

Database DPK

10.0.2.2
Port : 23036
user : root	
passÂ :Â JzxT8zHj2r5JGRDN

select nasabah_id,
  nama_nasabah,
  nama_alias,
  nama_ibu_kandung,
  nama_nasabah_sid,
  alamat,
  telpon,
  jenis_kelamin,
  tempatlahir,
  tgllahir,
  jenis_id,
  no_id,
  keterangan,
  kode_group1,
  kode_group2,
  kode_group3,
  kode_group4,
  kode_agama,
  kode_group5,
  desa,
  kecamatan,
  kota_kab,
  propinsi,
  verifikasi,
  hp,
  tgl_register,

  npwp,
  status_gelar,
  ket_status,
  jenis_debitur,
  tempat_badan_usaha,
  tgl_akte_awal,
  no_akte_awal,
  no_paspor,
  kodepos,
  din,
  kode_kantor,
  userid,
  alamat_ktp,
  alamat_surat,
  email,
  alamat_kantor,
  nama_kantor,
  nama_instansi,
  telpon_kantor,
  kode_area,
  negara_domisili,
  gol_debitur,
  sandi_pekerjaan,
  tempat_bekerja,
  bidang_usaha,
  hub_dgn_bank,
  langgar_bmpk,
  lampaui_bmpk,
  masa_berlaku_ktp,
  tujuan_pembukaan_rekening_tab,
  penghasilan_utama,
  kode_sumber_penghasilan,
  kode_pemasukan_per_bulan,
  kode_frek_pemasukan_per_bulan,
  kode_pengeluaran_per_bulan,
  kode_frek_pengeluaran_per_bulan,
  kode_sumber_dana_untuk_setoran,
  tujuan_penggunaan_dana,
  nama_suami_atau_istri,
  tgl_lahir_suami_atau_istri,
  tgl_pernikahan_suami_atau_istri,
  hobi,
  nama_anak1,
  tgl_lahir_anak1,
  nama_anak2,
  tgl_lahir_anak2,
  nama_anak3,
  tgl_lahir_anak3,
  flag_sid,
  no_rek_bank,
  flag_backlist,
  ket_backlist,
  ket_warning,
  flag_masa_berlaku,
  status_marital,
  transfer,
  gin,
  rating_debitur,
  lembaga_rating,
  go_public,
  id_jabatan,
  pangsa_pemilikan,
  id_debitur,
  id_pengurus,
  flag_koreksi_ktp,
  online_kk,
  online_id,
  phone_number,
  phone_pin,
  kode_tingkat_resiko,
  deskripsi_pekerjaan,
  nama_suami_or_istri,
  no_kk,
  penjamin_nama,
  penjamin_status,
  penjamin_kelamin,
  penjamin_alamat,
  penjamin_telpon,
  penjamin_pekerjaan,
  penjamin_deskripsi_pekerjaan,
  penjamin_alamat_pekerjaan,
  PID,
  kota_kab_lahir,
  akta_nikah_cerai,
  gps1,
  gps2,
  kota_kab_usaha,
  gelar_pend,
  gelar_h,
  no_cif_debitur,
  slik_telpon,
  jumlah_tanggungan,
  no_id_pasangan,
  pisah_harta,
  kode_badan_usaha,
  no_akte_akhir,
  tgl_akte_akhir,
  tanggal_pemeringkat,
  nama_group_debitur,
  slik_npwp,
  slik_jenis_id,
  slik_kode_kota_kab,
  slik_kode_negara,
  slik_kode_pekerjaan,
  slik_kode_status_gelar,
  slik_kode_bidang_usaha,
  slik_kode_sumber_penghasilan,
  slik_kode_hubungan_ljk,
  slik_kode_gol_debitur,
  slik_kode_status_perkawinan,
  slik_kode_lembaga_pemeringkat,
  slik_kode_badan_usaha,
  no_cif_slik,
  no_siup,
  no_tdp,
  no_surat_domisili_perusahaan,
  no_surat_kuasa_perusahaan,
  penghasilan_kotor,
  jml_tanggungan,
  no_alt,
  sms_service,
  echannel_account_type,
  notif_wa,
  slik_kode_gol_debitur_lama from nasabah where kode_kantor = '007'


server code
https://172.21.1.47:8006/
user : root
pass : litbang2024!@#

teamviewer code 
172.21.1.44
pass :
23121989


select no_rekening,nasabah_id,baki_debet,plafond,tagihan_pokok,tagihan_bunga,denda,tunggakan_pokok,tunggakan_bunga,saldo_pyad,nilai_njop,nilai_taksasi,jaminan_diperhitungkan,perc_ppapwd,nilai_ppapwd,ft_pokok,
	ft_bunga,ft_jt,kolektibilitas,my_kolek_number,reschedulling,jml_hari_pokok,jml_hari_bunga,jenis_agunan,ikatan_agunan,persen_dijaminkan,tgl_debius,saldo_debius,jml_debius,angs_debius,angsuran_ke,tanggal,
	waktu,kolektibilitas_lalu,saldo_provisi,saldo_adm_lainnya,saldo_biaya,baki_debet_rra,kode_kantor,jml_hari,pyad_harian,nilai_apht,nilai_pasar,nilai_agunan,next_tagihan_pokok,next_tagihan_bunga,tgl_mulai_macet,
	saldo_cad_restruk,saldo_bunga_ditangguhkan,tgl_mulai_nunggak,tgl_mulai_nunggak_pokok,tgl_mulai_nunggak_bunga,hari_menunggak,hari_menunggak_pokok,hari_menunggak_bunga,hari_menunggak_jt,kolektibilitas_real,my_kolek_number_real,
	hari_menunggak_bunga_relaksasi from kredit_history where tanggal = '20260122' and kode_kantor between  '001' and '028'and baki_debet > 0;


SELECT

  LPAD(CAST(kode_kantor AS CHAR), 3, '0') AS kode kantor,

  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '1'     THEN saldo_akhir ELSE 0 END) AS asset,
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '2'     THEN saldo_akhir ELSE 0 END) AS kewajiban,
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '3'     THEN saldo_akhir ELSE 0 END) AS ekuitas,
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '4'     THEN saldo_akhir ELSE 0 END) AS pendapatan,
  
  Pend Bunga 40101
  Pend. Ops Lainnya 40102
  Pend. Non Ops 402
  Pendapatan PH 4010204
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '5'     THEN saldo_akhir ELSE 0 END) AS biaya,
  Beban Bunga 50101
  Beban Kerugian Restruk 50102
  Beban Kerugian Penurunan Nilai 50202
  Beban Pemasaran 50104
  Beban Adm dan Umum
  Beban Ops Lainnya 5010799
  Beban Non Ops 502

  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '204'   THEN saldo_akhir ELSE 0 END) AS simpanan,
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '20401' THEN saldo_akhir ELSE 0 END) AS tabungan,
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '20402' THEN saldo_akhir ELSE 0 END) AS deposito,
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '106'   THEN saldo_akhir ELSE 0 END) AS kredit,
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '10601' THEN saldo_akhir ELSE 0 END) AS `kredit OSC`,
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '30303' THEN saldo_akhir ELSE 0 END) AS `30303 - Laba Rugi`,
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '4'     THEN saldo_akhir ELSE 0 END)
  - SUM(CASE WHEN CAST(kode_perk AS CHAR) = '5'   THEN saldo_akhir ELSE 0 END) AS `laba_rugi_sblm_pajak`


FROM acc_history
WHERE tanggal = '2024-12-31'
GROUP BY LPAD(CAST(kode_kantor AS CHAR), 3, '0')
ORDER BY kode_kantor;


Tks Bank(Rasio)
  KAP 50106081101
  ROA
  NIM
  BOPO
  CASH Ratio
  LDR


SELECT
  LPAD(CAST(kode_kantor AS CHAR), 3, '0') AS `kode kantor`,

  /* Kelompok besar via kode_perk tingkat-1 */
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '1' THEN saldo_akhir ELSE 0 END) AS asset,
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '2' THEN saldo_akhir ELSE 0 END) AS kewajiban,
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '3' THEN saldo_akhir ELSE 0 END) AS ekuitas,
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '4' THEN saldo_akhir ELSE 0 END) AS pendapatan,

  /* Rincian pendapatan */
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '40101'   THEN saldo_akhir ELSE 0 END) AS `Pend Bunga`,
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '40102'   THEN saldo_akhir ELSE 0 END) AS `Pend. Ops Lainnya`,
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '402'     THEN saldo_akhir ELSE 0 END) AS `Pend. Non Ops`,
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '4010204' THEN saldo_akhir ELSE 0 END) AS `Pendapatan PH`,

  /* Biaya total & rincian biaya */
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '5' THEN saldo_akhir ELSE 0 END) AS biaya,
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '50101'   THEN saldo_akhir ELSE 0 END) AS `Beban Bunga`,
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '50102'   THEN saldo_akhir ELSE 0 END) AS `Beban Kerugian Restruk`,
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '50202'   THEN saldo_akhir ELSE 0 END) AS `Beban Kerugian Penurunan Nilai`,
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '50104'   THEN saldo_akhir ELSE 0 END) AS `Beban Pemasaran 50104`,
  /* Ganti '50105' sesuai kode beban adm & umum yang benar di COA kamu */
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '50106'   THEN saldo_akhir ELSE 0 END) AS `Beban Adm dan Umum`,
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '5010799' THEN saldo_akhir ELSE 0 END) AS `Beban Ops Lainnya`,
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '502'     THEN saldo_akhir ELSE 0 END) AS `Beban Non Ops`,

  /* Pos neraca/produk simpanan & kredit */
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '204'   THEN saldo_akhir ELSE 0 END) AS simpanan,
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '20401' THEN saldo_akhir ELSE 0 END) AS tabungan,
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '20402' THEN saldo_akhir ELSE 0 END) AS deposito,
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '106'   THEN saldo_akhir ELSE 0 END) AS kredit,
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '10601' THEN saldo_akhir ELSE 0 END) AS `kredit OSC`,
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '30303' THEN saldo_akhir ELSE 0 END) AS `Laba Rugi 30303`,

  /* Laba (rugi) sebelum pajak = total kode 4 - total kode 5 */
  SUM(CASE WHEN CAST(kode_perk AS CHAR) = '4' THEN saldo_akhir ELSE 0 END)
  - SUM(CASE WHEN CAST(kode_perk AS CHAR) = '5' THEN saldo_akhir ELSE 0 END) AS `laba_rugi_sblm_pajak`

FROM acc_history
WHERE tanggal = '2025-10-30'
GROUP BY LPAD(CAST(kode_kantor AS CHAR), 3, '0')
ORDER BY `kode kantor`;



edit program
user : os3udndl
pass : bkkbisa


files
https://10.0.2.2:36463/fe154ce9


DB
Pass: JzxT8zHj2r5JGRDN
10.0.2.2



-- Tabungan
SELECT
	tabung.kode_kantor "KODE KANTOR",
	(select nama_kantor from app_kode_kantor where kode_kantor=tabung_history.kode_kantor) "NAMA KANTOR",
	tabung.no_rekening "NO REKENING",
	nama_nasabah "NAMA NASABAH",
	tabung_history.saldo_akhir AS "SALDO AKHIR"
FROM
	tabung_history,
	tabung,
	nasabah 
WHERE
	tabung.no_rekening = tabung_history.no_rekening 
	AND tabung.nasabah_id = nasabah.nasabah_id 
	AND tabung_history.tanggal = 20260122
	AND tabung_history.saldo_akhir >0
	AND tabung.kode_produk=212
ORDER BY
	tabung.kode_kantor


SELECT
  k.kode_kantor AS "KODE KANTOR",
  (SELECT nama_kantor FROM app_kode_kantor WHERE kode_kantor = k.kode_kantor) AS "NAMA KANTOR",
  k.no_rekening AS "NO REKENING KREDIT",
  k.nasabah_id AS "CIF",
  k.no_alternatif AS "NO ALTERNATIF",
  n.nama_nasabah AS "NAMA NASABAH",

  -- tanggal hapus buku (transaksi debius)
  (SELECT MAX(tgl_trans)
   FROM kretrans
   WHERE FLOOR(my_kode_trans / 100) = 8
     AND no_rekening = k.no_rekening) AS "TGL DEBIUS",

  k.jml_pinjaman AS "PLAFOND",

  -- nilai debius
  COALESCE((
    SELECT SUM(pokok)
    FROM kretrans
    WHERE FLOOR(my_kode_trans / 100) = 8
      AND no_rekening = k.no_rekening
  ), 0) AS "JUMLAH DEBIUS",

  -- nilai ditagih setelah hapus buku
  COALESCE((
    SELECT SUM(pokok)
    FROM kretrans
    WHERE FLOOR(my_kode_trans / 100) = 9
      AND no_rekening = k.no_rekening
      AND tgl_trans <= 20251130
  ), 0) AS "JUMLAH DITAGIH",

  -- saldo debius snapshot 2025-10-30
  COALESCE((
    SELECT saldo_debius
    FROM kredit_history
    WHERE no_rekening = k.no_rekening
      AND tanggal = 20251130
  ), 0) AS "SALDO DEBIUS",

  -- data tabungan per nasabah (produk 212, snapshot 2025-10-27)
  t.no_rekening AS "NO REK TABUNGAN",
  t.kode_produk AS "KODE PRODUK TABUNGAN",
  th.saldo_akhir AS "SALDO AKHIR TAB",
  

FROM kredit k
JOIN nasabah n
  ON n.nasabah_id = k.nasabah_id

-- ðŸ”¹ ambil tabungan produk 212 milik debitur yang sama (per nasabah_id)
LEFT JOIN tabung t
  ON t.nasabah_id = n.nasabah_id
  AND t.kode_produk = 212
LEFT JOIN tabung_history th
  ON th.no_rekening = t.no_rekening
  AND th.tanggal = 20260122

WHERE k.no_rekening IN (
  SELECT DISTINCT no_rekening
  FROM kretrans
  WHERE FLOOR(my_kode_trans / 100) = 8
    AND tgl_trans <= 20251130
)

ORDER BY k.no_rekening



SELECT

  k.kode_kantor AS "KODE KANTOR",

  (SELECT nama_kantor FROM app_kode_kantor WHERE kode_kantor = k.kode_kantor) AS "NAMA KANTOR",

  k.no_rekening AS "NO REKENING KREDIT",

  k.nasabah_id AS "CIF",

  k.no_alternatif AS "NO ALTERNATIF",

  n.nama_nasabah AS "NAMA NASABAH",



  (SELECT MAX(tgl_trans)

   FROM kretrans

   WHERE FLOOR(my_kode_trans / 100) = 8

     AND no_rekening = k.no_rekening) AS "TGL DEBIUS",



  k.jml_pinjaman AS "PLAFOND",



  COALESCE((

    SELECT SUM(pokok)

    FROM kretrans

    WHERE FLOOR(my_kode_trans / 100) = 8

      AND no_rekening = k.no_rekening

  ), 0) AS "JUMLAH DEBIUS",



  COALESCE((

    SELECT SUM(pokok)

    FROM kretrans

    WHERE FLOOR(my_kode_trans / 100) = 9

      AND no_rekening = k.no_rekening

      AND tgl_trans <= 20251130

  ), 0) AS "JUMLAH DITAGIH",



  COALESCE((

    SELECT saldo_debius

    FROM kredit_history

    WHERE no_rekening = k.no_rekening

      AND tanggal = 20251130

  ), 0) AS "SALDO DEBIUS",



  t.no_rekening AS "NO REK TABUNGAN",

  t.kode_produk AS "KODE PRODUK TABUNGAN",

  th.saldo_akhir AS "SALDO AKHIR TAB (27-10-2025)"



FROM kredit k

JOIN nasabah n

  ON n.nasabah_id = k.nasabah_id



LEFT JOIN tabung t

  ON t.nasabah_id = n.nasabah_id

  AND t.kode_produk = 212

LEFT JOIN tabung_history th

  ON th.no_rekening = t.no_rekening

  AND th.tanggal = 20260122



WHERE k.no_rekening IN (

  SELECT DISTINCT no_rekening

  FROM kretrans

  WHERE FLOOR(my_kode_trans / 100) = 8

    AND tgl_trans <= 20251130

)



ORDER BY k.no_rekening;











#eko_ph

SELECT
  k.kode_kantor AS "KODE KANTOR",
  (SELECT nama_kantor FROM app_kode_kantor WHERE kode_kantor = k.kode_kantor) AS "NAMA KANTOR",
  k.no_rekening AS "NO REKENING KREDIT",
  k.nasabah_id AS "CIF",
  k.no_alternatif AS "NO ALTERNATIF",
  n.nama_nasabah AS "NAMA NASABAH",


  (SELECT MAX(tgl_trans)
   FROM kretrans
   WHERE FLOOR(my_kode_trans / 100) = 8
     AND no_rekening = k.no_rekening) AS "TGL DEBIUS",
  k.jml_pinjaman AS "PLAFOND",
 
  COALESCE((
    SELECT SUM(pokok)
    FROM kretrans
    WHERE FLOOR(my_kode_trans / 100) = 8
      AND no_rekening = k.no_rekening
  ), 0) AS "JUMLAH DEBIUS",


  COALESCE((
    SELECT SUM(pokok)
    FROM kretrans
    WHERE FLOOR(my_kode_trans / 100) = 9
      AND no_rekening = k.no_rekening
      AND tgl_trans <= 20251130
  ), 0) AS "JUMLAH DITAGIH",

  COALESCE((
    SELECT saldo_debius
    FROM kredit_history
    WHERE no_rekening = k.no_rekening
      AND tanggal = 20251130
  ), 0) AS "SALDO DEBIUS",

 
  t.no_rekening AS "NO REK TABUNGAN",
  t.kode_produk AS "KODE PRODUK TABUNGAN",
  th.saldo_akhir AS "SALDO AKHIR TAB"

FROM kredit k
JOIN nasabah n
  ON n.nasabah_id = k.nasabah_id


LEFT JOIN tabung t
  ON t.nasabah_id = n.nasabah_id
  AND t.kode_produk = 212
LEFT JOIN tabung_history th
  ON th.no_rekening = t.no_rekening
  AND th.tanggal = 20251216

WHERE k.no_rekening IN (
  SELECT DISTINCT no_rekening
  FROM kretrans
  WHERE FLOOR(my_kode_trans / 100) = 8
    AND tgl_trans <= 20251130
)

ORDER BY k.no_rekening
